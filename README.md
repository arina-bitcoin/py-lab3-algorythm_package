# Лабораторная работа 3 Алгоритмы и структуры данных

## Введение 
Проект содержит реализацию различных алгоритмов сортировки, структуры данных (стек) и математических функций (факториал, числа Фибоначчи) с полным покрытием тестами и инструментами для бенчмаркинга.

## Содержание
- [Быстрый старт](#быстрый-старт)
- [Алгоритмы сортировки](#алгоритмы-сортировки)
- [Структуры данных](#структуры-данных)
- [Математические функции](#математические-функции)
- [Тестирование](#тестирование)
- [Бенчмарки](#бенчмарки)
- [Структура проекта](#структура-проекта)
- [Leetcode](#leetcode)

## Быстрый старт

### Запуск интерактивного меню

```bash
python main.py menu #или 
py -m main menu


### Сортировка чисел

```bash
python main.py sort quick 5 3 8 1 9
```

### Запуск тестов

```bash
python main.py test
# или напрямую
pytest
```

### Бенчмарки

```bash
python main.py benchmark --size 10000 --runs 5
```

#### Сортировка

```bash
# Сортировка целых чисел
python main.py sort bubble 5 3 8 1 9
python main.py sort heap 10 2 7 4 1
python main.py sort quick 9 1 5 3 7

# Сортировка вещественных чисел (только для bubble, heap, quick, bucket)
python main.py sort bucket 0.9 0.1 0.3 0.7 --floats
```

**Доступные алгоритмы:**
- `bubble` - пузырьковая сортировка
- `heap` - сортировка кучей
- `quick` - быстрая сортировка
- `bucket` - сортировка ведрами (только для float)
- `counting` - сортировка подсчётом (только для int)
- `radix` - поразрядная сортировка (только для int)

#### Бенчмарки

```bash
# Базовый запуск (размер 5000, 3 прогона)
python main.py benchmark

# Кастомные параметры
python main.py benchmark --size 10000 --runs 5

# Выбор конкретных алгоритмов
python main.py benchmark --size 5000 --runs 3 --algos heap quick

# JSON вывод
python main.py benchmark --size 2000 --json
```

**Примечание:** Для больших размеров (>2000) пузырьковая сортировка автоматически исключается из бенчмарков, чтобы избежать долгого ожидания. Для её включения используйте `--algos bubble heap quick`.


### Интерактивное меню

Запустите `python main.py menu` для доступа к интерактивному меню:

```
Main menu
1) Sort numbers        # Сортировка чисел любым алгоритмом
2) Run benchmarks     # Запуск бенчмарков с настройками
3) Run tests          # Запуск pytest с фильтрами
4) Factorial          # Вычисление факториала (итеративно/рекурсивно)
5) Fibonacci          # Вычисление чисел Фибоначчи (итеративно/рекурсивно)
6) Try Stack          # Интерактивная работа со стеком
0) Exit
```


## Алгоритмы сортировки

### Bubble Sort 

- **Сложность:** O(n²) времени, O(1) памяти
- **Тип:** Стабильная, in-place
- **Поддержка:** int, float (через `bubble_sort_custom` - любые типы с key/cmp)


### Quick Sort 

- **Сложность:** O(n log n) в среднем, O(n²) в худшем случае, O(log n) памяти
- **Тип:** Нестабильная
- **Поддержка:** int, float (через `quick_sort_custom` - любые типы с key/cmp)


### Heap Sort 

- **Сложность:** O(n log n) времени, O(1) памяти
- **Тип:** Нестабильная
- **Поддержка:** int, float (через `heap_sort_custom` - любые типы с key/cmp)


### Bucket Sort

- **Сложность:** O(n + k) в среднем, где k - количество ведер
- **Тип:** Стабильная
- **Поддержка:** float


### Counting Sort 

- **Сложность:** O(n + k) времени, O(k) памяти, где k - диапазон значений
- **Тип:** Стабильная
- **Поддержка:** int (включая отрицательные)


### Radix Sort

- **Сложность:** O(d × n), где d - количество разрядов
- **Тип:** Стабильная
- **Поддержка:** int (включая отрицательные), настраиваемая система счисления


### Сортировка с key и cmp

Некоторые алгоритмы поддерживают кастомные функции сравнения


## Структуры данных

### Stack (Стек)

Реализация стека на основе связного списка с поддержкой O(1) операций получения минимума.

**Методы:**
- `push(value)` - добавить элемент
- `pop()` - извлечь и вернуть верхний элемент
- `peek()` - посмотреть верхний элемент без извлечения
- `is_empty()` - проверить, пуст ли стек
- `min()` - получить минимальный элемент (O(1))
- `__len__()` - размер стека

### Queue (Очередь)

Реализация очереди на основе связного списка.

**Методы:**
- `eneque(value)` - добавить элемент
- `deneque()` - извлечь и вернуть верхний элемент
- `front()` - посмотреть первый элемент в очереди без извлечения
- `is_empty()` - проверить, пустая ли очередь
- `__len__()` - размер очереди

## Математические функции

### Factorial (Факториал)

Две реализации: итеративная и рекурсивная.

### Fibonacci (Числа Фибоначчи)

Две реализации: итеративная (O(n)) и рекурсивная (O(2^n)).


## Тестирование

Проект имеет полное покрытие тестами (64 теста) с использованием pytest.

### Структура тестов

- `test_bubble_sort.py` - тесты пузырьковой сортировки
- `test_quick_sort.py` - тесты быстрой сортировки
- `test_heap_sort.py` - тесты сортировки кучей
- `test_bucket_sort.py` - тесты сортировки ведрами
- `test_counting_sort.py` - тесты сортировки подсчётом
- `test_radix_sort.py` - тесты поразрядной сортировки
- `test_stack.py` - тесты стека
- `test_factorial.py` - тесты факториала
- `test_fibonacci.py` - тесты чисел Фибоначчи
- `test_benchmarks.py` - тесты бенчмарков

Все тесты используют генераторы из `test_generator.py` для создания различных тестовых данных:
- Случайные массивы
- Почти отсортированные массивы
- Массивы с дубликатами
- Обратно отсортированные массивы
- Массивы с отрицательными числами

## Структура проекта
```
py-lab3-algorythm_package/
├── main.py                 # Главный CLI интерфейс
├── README.md               # Этот файл
├── pyproject.toml          # Конфигурация проекта
├── requirements.txt        # Зависимости
│
├── sort/                   # Алгоритмы сортировки
│   ├── __init__.py
│   ├── bubble_sort.py      # Пузырьковая сортировка
│   ├── quick_sort.py       # Быстрая сортировка
│   ├── heap_sort.py        # Сортировка кучей
│   ├── bucket_sort.py      # Сортировка ведрами
│   ├── counting_sort.py    # Сортировка подсчётом
│   ├── radix_sort.py       # Поразрядная сортировка
│   └── _keycmp.py          # Вспомогательный модуль для key/cmp
│
├── stack/                  # Структуры данных
│   └── stack.py            # Реализация стека
│
├── fib+factorial/          # Математические функции
│   ├── factorial.py        # Факториал (итеративно/рекурсивно)
│   └── fibonachi.py        # Фибоначчи (итеративно/рекурсивно)
│
└── tests/                   # Тесты
    ├── __init__.py
    ├── test_*.py           # Тесты для каждого модуля
    ├── test_generator.py   # Генераторы тестовых данных
    ├── banch_marks.py      # Модуль бенчмарков
    └── module_utils.py     # Утилиты для загрузки модулей
```

## Примечания

- Все алгоритмы сортировки **не изменяют** исходный массив (чистые функции)
- Для больших размеров (>2000) пузырьковая сортировка автоматически исключается из бенчмарков
- Сортировки `counting` и `radix` работают только с целыми числами
- Стек поддерживает получение минимума за O(1) благодаря вспомогательному стеку
- Рекурсивные версии факториала и Фибоначчи могут быть медленными для больших значений

## Leetcode

В папке practice находятся решения задач с leetcode, которые шли вместе с ЛР
